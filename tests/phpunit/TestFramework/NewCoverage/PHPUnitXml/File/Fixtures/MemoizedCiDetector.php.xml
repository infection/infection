<?xml version="1.0"?>
<phpunit xmlns="https://schema.phpunit.de/coverage/1.0">
    <file name="MemoizedCiDetector.php" path="/CI">
        <totals>
            <lines total="63" comments="40" code="23" executable="3" executed="3" percent="100.00"/>
            <methods count="1" tested="1" percent="100.00"/>
            <functions count="0" tested="0" percent="0"/>
            <classes count="1" tested="1" percent="100.00"/>
            <traits count="0" tested="0" percent="0"/>
        </totals>
        <class name="Infection\CI\MemoizedCiDetector" start="47" executable="3" executed="3"
               crap="2">
            <namespace name="Infection\CI"/>
            <method name="detectCurrentCiServer"
                    signature="detectCurrentCiServer(): ?OndraM\CiDetector\Ci\CiInterface"
                    start="54" end="61" crap="2" executable="3" executed="3" coverage="100"/>
        </class>
        <coverage>
            <line nr="56">
                <covered
                        by="Infection\Tests\CI\MemoizedCiDetectorTest::test_it_runs_the_detection_only_once"/>
            </line>
            <line nr="57">
                <covered
                        by="Infection\Tests\CI\MemoizedCiDetectorTest::test_it_runs_the_detection_only_once"/>
            </line>
            <line nr="60">
                <covered
                        by="Infection\Tests\CI\MemoizedCiDetectorTest::test_it_runs_the_detection_only_once"/>
            </line>
        </coverage>
        <source>
            <line no="1">
                <token name="T_OPEN_TAG">&lt;?php</token>
            </line>
            <line no="2">
                <token name="T_DOC_COMMENT">/**</token>
            </line>
            <line no="3">
                <token name="T_DOC_COMMENT">* This code is licensed under the BSD 3-Clause
                    License.
                </token>
            </line>
            <line no="4">
                <token name="T_DOC_COMMENT">*</token>
            </line>
            <line no="5">
                <token name="T_DOC_COMMENT">* Copyright (c) 2017, Maks Rafalko</token>
            </line>
            <line no="6">
                <token name="T_DOC_COMMENT">* All rights reserved.</token>
            </line>
            <line no="7">
                <token name="T_DOC_COMMENT">*</token>
            </line>
            <line no="8">
                <token name="T_DOC_COMMENT">* Redistribution and use in source and binary forms,
                    with or without
                </token>
            </line>
            <line no="9">
                <token name="T_DOC_COMMENT">* modification, are permitted provided that the
                    following conditions are met:
                </token>
            </line>
            <line no="10">
                <token name="T_DOC_COMMENT">*</token>
            </line>
            <line no="11">
                <token name="T_DOC_COMMENT">* * Redistributions of source code must retain the above
                    copyright notice, this
                </token>
            </line>
            <line no="12">
                <token name="T_DOC_COMMENT">* list of conditions and the following disclaimer.
                </token>
            </line>
            <line no="13">
                <token name="T_DOC_COMMENT">*</token>
            </line>
            <line no="14">
                <token name="T_DOC_COMMENT">* * Redistributions in binary form must reproduce the
                    above copyright notice,
                </token>
            </line>
            <line no="15">
                <token name="T_DOC_COMMENT">* this list of conditions and the following disclaimer
                    in the documentation
                </token>
            </line>
            <line no="16">
                <token name="T_DOC_COMMENT">* and/or other materials provided with the
                    distribution.
                </token>
            </line>
            <line no="17">
                <token name="T_DOC_COMMENT">*</token>
            </line>
            <line no="18">
                <token name="T_DOC_COMMENT">* * Neither the name of the copyright holder nor the
                    names of its
                </token>
            </line>
            <line no="19">
                <token name="T_DOC_COMMENT">* contributors may be used to endorse or promote
                    products derived from
                </token>
            </line>
            <line no="20">
                <token name="T_DOC_COMMENT">* this software without specific prior written
                    permission.
                </token>
            </line>
            <line no="21">
                <token name="T_DOC_COMMENT">*</token>
            </line>
            <line no="22">
                <token name="T_DOC_COMMENT">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
                    CONTRIBUTORS "AS IS"
                </token>
            </line>
            <line no="23">
                <token name="T_DOC_COMMENT">* AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT
                    NOT LIMITED TO, THE
                </token>
            </line>
            <line no="24">
                <token name="T_DOC_COMMENT">* IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
                    A PARTICULAR PURPOSE ARE
                </token>
            </line>
            <line no="25">
                <token name="T_DOC_COMMENT">* DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
                    CONTRIBUTORS BE LIABLE
                </token>
            </line>
            <line no="26">
                <token name="T_DOC_COMMENT">* FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
                    EXEMPLARY, OR CONSEQUENTIAL
                </token>
            </line>
            <line no="27">
                <token name="T_DOC_COMMENT">* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
                    SUBSTITUTE GOODS OR
                </token>
            </line>
            <line no="28">
                <token name="T_DOC_COMMENT">* SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
                    INTERRUPTION) HOWEVER
                </token>
            </line>
            <line no="29">
                <token name="T_DOC_COMMENT">* CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
                    CONTRACT, STRICT LIABILITY,
                </token>
            </line>
            <line no="30">
                <token name="T_DOC_COMMENT">* OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
                    ANY WAY OUT OF THE USE
                </token>
            </line>
            <line no="31">
                <token name="T_DOC_COMMENT">* OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
                    OF SUCH DAMAGE.
                </token>
            </line>
            <line no="32">
                <token name="T_DOC_COMMENT">*/</token>
            </line>
            <line no="33"/>
            <line no="34">
                <token name="T_DECLARE">declare</token>
                <token name="T_OPEN_BRACKET">(</token>
                <token name="T_STRING">strict_types</token>
                <token name="T_EQUAL">=</token>
                <token name="T_LNUMBER">1</token>
                <token name="T_CLOSE_BRACKET">)</token>
                <token name="T_SEMICOLON">;</token>
            </line>
            <line no="35"/>
            <line no="36">
                <token name="T_NAMESPACE">namespace</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_NAME_QUALIFIED">Infection\CI</token>
                <token name="T_SEMICOLON">;</token>
            </line>
            <line no="37"/>
            <line no="38">
                <token name="T_USE">use</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_NAME_QUALIFIED">OndraM\CiDetector\Ci\CiInterface</token>
                <token name="T_SEMICOLON">;</token>
            </line>
            <line no="39">
                <token name="T_USE">use</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_NAME_QUALIFIED">OndraM\CiDetector\CiDetector</token>
                <token name="T_SEMICOLON">;</token>
            </line>
            <line no="40"/>
            <line no="41">
                <token name="T_DOC_COMMENT">/**</token>
            </line>
            <line no="42">
                <token name="T_DOC_COMMENT">* @internal</token>
            </line>
            <line no="43">
                <token name="T_DOC_COMMENT">*</token>
            </line>
            <line no="44">
                <token name="T_DOC_COMMENT">* TODO: for now we are forced to extend CiDetector which
                    is not ideal since we need to mind all
                </token>
            </line>
            <line no="45">
                <token name="T_DOC_COMMENT">* the API of the parent. See
                    https://github.com/OndraM/ci-detector/issues/64
                </token>
            </line>
            <line no="46">
                <token name="T_DOC_COMMENT">*/</token>
            </line>
            <line no="47">
                <token name="T_FINAL">final</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_CLASS">class</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_STRING">MemoizedCiDetector</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_EXTENDS">extends</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_STRING">CiDetector</token>
            </line>
            <line no="48">
                <token name="T_OPEN_CURLY">{</token>
            </line>
            <line no="49">
                <token name="T_WHITESPACE"></token>
                <token name="T_DOC_COMMENT">/**</token>
            </line>
            <line no="50">
                <token name="T_DOC_COMMENT">* @var CiInterface|false|null</token>
            </line>
            <line no="51">
                <token name="T_DOC_COMMENT">*/</token>
            </line>
            <line no="52">
                <token name="T_WHITESPACE"></token>
                <token name="T_PRIVATE">private</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_VARIABLE">$ci</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_EQUAL">=</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_STRING">false</token>
                <token name="T_SEMICOLON">;</token>
            </line>
            <line no="53"/>
            <line no="54">
                <token name="T_WHITESPACE"></token>
                <token name="T_PROTECTED">protected</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_FUNCTION">function</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_STRING">detectCurrentCiServer</token>
                <token name="T_OPEN_BRACKET">(</token>
                <token name="T_CLOSE_BRACKET">)</token>
                <token name="T_COLON">:</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_QUESTION_MARK">?</token>
                <token name="T_STRING">CiInterface</token>
            </line>
            <line no="55">
                <token name="T_WHITESPACE"></token>
                <token name="T_OPEN_CURLY">{</token>
            </line>
            <line no="56">
                <token name="T_WHITESPACE"></token>
                <token name="T_IF">if</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_OPEN_BRACKET">(</token>
                <token name="T_VARIABLE">$this</token>
                <token name="T_OBJECT_OPERATOR">-&gt;</token>
                <token name="T_STRING">ci</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_IS_IDENTICAL">===</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_STRING">false</token>
                <token name="T_CLOSE_BRACKET">)</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_OPEN_CURLY">{</token>
            </line>
            <line no="57">
                <token name="T_WHITESPACE"></token>
                <token name="T_VARIABLE">$this</token>
                <token name="T_OBJECT_OPERATOR">-&gt;</token>
                <token name="T_STRING">ci</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_EQUAL">=</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_STRING">parent</token>
                <token name="T_DOUBLE_COLON">::</token>
                <token name="T_STRING">detectCurrentCiServer</token>
                <token name="T_OPEN_BRACKET">(</token>
                <token name="T_CLOSE_BRACKET">)</token>
                <token name="T_SEMICOLON">;</token>
            </line>
            <line no="58">
                <token name="T_WHITESPACE"></token>
                <token name="T_CLOSE_CURLY">}</token>
            </line>
            <line no="59"/>
            <line no="60">
                <token name="T_WHITESPACE"></token>
                <token name="T_RETURN">return</token>
                <token name="T_WHITESPACE"></token>
                <token name="T_VARIABLE">$this</token>
                <token name="T_OBJECT_OPERATOR">-&gt;</token>
                <token name="T_STRING">ci</token>
                <token name="T_SEMICOLON">;</token>
            </line>
            <line no="61">
                <token name="T_WHITESPACE"></token>
                <token name="T_CLOSE_CURLY">}</token>
            </line>
            <line no="62">
                <token name="T_CLOSE_CURLY">}</token>
            </line>
            <line no="63"/>
        </source>
    </file>
</phpunit>
